<!DOCTYPE html>
<html lang="en">
<head>
  <title>Agriculture</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">WebSiteName</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Page 1 <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">Page 1-1</a></li>
            <li><a href="#">Page 1-2</a></li>
            <li><a href="#">Page 1-3</a></li>
          </ul>
        </li>
        <li><a href="#">Page 2</a></li>
        <li><a href="#">Page 3</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>
  

<!-- <style>
.table>tbody>tr>td, .table>tbody>tr>th, .table>tfoot>tr>td, .table>tfoot>tr>th, .table>thead>tr>td, .table>thead>tr>th{
  border-top:unset;
}

}
</style> -->
<div class="container">
  <div class="col-md-6 new_user">
  <h2>New User</h2>
            
  <table class="table ">
    <!-- <thead>
      <tr>
        <th>Name</th>
        <th> <input type="name" class="form-control" id="name" placeholder="UserName" name="name"></th>
        
      </tr>
    </thead> -->
    <tbody>
    <tr>
        <td>User Name</td>
        <td> <input type="text" class="form-control" id="uName" placeholder="User Name" name="name"></td>
        
      </tr>
      <tr>
        <td>First Name</td>
        <td> <input type="text" class="form-control" id="fName" placeholder="First Name" name="name"></td>
        
      </tr>
      <td>Last Name</td>
        <td> <input type="text" class="form-control" id="lName" placeholder="Last Name" name="name"></td>
        
      </tr>
      </tr>
      <td>Age</td>
        <td> <input type="text" class="form-control" id="age" placeholder="Age" name="name"></td>
        
      </tr>

      <tr>
        <td>Password</td>
        <td> <input type="Password" class="form-control" id="password" placeholder="Password" name="password"></td>
        
      </tr>
      <tr>
        <td> Confirm Password</td>
        <td>  <input type="Password" class="form-control" id="Cpassword" placeholder="Confirm Password" name="password"></td>
        
      </tr>
      <tr>
        <td>Role</td>
        <td> <div class="dropdown">
        <select class="form-control sel" id="selRole" >
        <option style="display: none;">Select Role</option>
        <option ><span class="glyphicon glyphicon-pencil"></span>Farmer</option>

        <option><span class="glyphicon glyphicon-pencil"></span>Certificate Agency</option>
        <option><span class="glyphicon glyphicon-pencil"></span>Fertlizer Agency</option>
      </select>
   <!--  <button class="btn  dropdown-toggle role_btn" type="button" data-toggle="dropdown">Select Role
    <span class="caret role_caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">HTML</a></li>
      <li><a href="#">CSS</a></li>
      <li><a href="#">JavaScript</a></li>
    </ul> -->
  </div></td>
        
      </tr>
      <tr>
        <td>Address</td>
        <td> <!-- <div class="dropdown">
    <button class="btn  dropdown-toggle role_btn" type="button" data-toggle="dropdown">Select Organization
    <span class="caret role_caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">HTML</a></li>
      <li><a href="#">CSS</a></li>
      <li><a href="#">JavaScript</a></li>
    </ul>
  </div> --><textarea class="form-control" id="Address" placeholder="Address" name="name"></textarea>
  </td>
        
      </tr>
      <tr>
        <td>Email</td>
        <td> <input type="Email" class="form-control" id="email" placeholder="Email " name="phone"></td>
        
      </tr>
      <tr>
        <td>Phone</td>
        <td> <input type="phone" class="form-control" id="phoneNumber" placeholder="phone" name="phone"></td>
        
      </tr>
    </tbody>
  </table>
  <div class="text-cent">
  <button  id="submit" class="btn btn-default btn-primary">Submit</button></div>
</div>

</div>
</body>
</html>
</div>


<script type="text/javascript" >
    
    var role="" 

    
  $(document).ready(function(){
    $("#selRole").on('change',function() {
       role=$(this).find("option:selected").text();
});
    $("button").click(function(){
      var phoneNumber=$("#phoneNumber").val()
      var userName=$("#uName").val()
      var firstName=$("#fName").val()
      var lastName=$("#lName").val()
      var password=$("#password").val()
      var address=$("textarea#Address").val()
      var email=$("#email").val()
      var age=$("#age").val()
      //validation--------------------------------------------------------- 
      if (phoneNumber == "") {
        alert("Phone Number must be filled out");
        return false;
    }
    if(userName==""){
      alert("Enter User Name")
      return false
    }
     if(firstName==""){
      alert("Enter First Name")
      return false
    }
     if(lastName==""){
      alert("Enter Last name")
      return false
    }
    if(password==""){
      alert("Enter Password")
      return false
    }
     if($("#password").val()!=$("#Cpassword").val()){
      alert("Password doesnot match")
      return false
    }
     if(address==""){
      alert("Enter the Address")
      return false
    }
     if(email==""){
      alert("Enter Email ID")
      return false
    }
     if(age==""){
      alert("Enter Age")
      return false
    }
    if(role==""){
      alert("Select Role")
      return false
    }
sessionStorage.setItem("phoneNumber",phoneNumber)
sessionStorage.setItem("UserName",userName)
sessionStorage.setItem("firstName",firstName)
sessionStorage.setItem("lastName",lastName)
sessionStorage.setItem("password",password)
sessionStorage.setItem("address",address)
sessionStorage.setItem("email",email)
sessionStorage.setItem("age",age)
sessionStorage.setItem("role",role)
window.location.href="./reg_con.html"
    //   // validatio ending --------------------------------------------
    //   var xhttp = new XMLHttpRequest();
    //   var xhr = new XMLHttpRequest();
    //   xhttp.open("POST", "http://localhost:4000/users", true);
    //   xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
    //   xhttp.send( "orgName=Org1"+"&username="+userName+"&role="+role+"&secret="+password);
    //   xhttp.onreadystatechange = function() {  
    //     var message=JSON.parse(this.responseText);
    //   //document.getElementById("enrollUser").innerHTML = "Success: "+message["success"];
    //     localStorage.setItem("token", message["token"]);        
    // another()
    // };
    //     // alert(firstName+" "+lastName)
    // // alert("Text: " + $("#test").text());
    //       function another(){
    //   //send another request
    //         xhr.open("POST", "http://localhost:4000/channels/mychannel/chaincodes/dtwin", true);
    //         var obj={ 
    //             "fcn":"newuser",
    //             "args":[firstName,lastName,age,address,email,phoneNumber]
    //           }
    //         var data=JSON.stringify(obj);

    //         xhr.setRequestHeader("Content-Type", "application/json");
    //         xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem("token"));
    //         xhr.send(data)
    //         xhr.onreadystatechange = function() {  
    //         document.getElementById("userTransactionId").innerHTML ="Transaction Id: "+xhr.responseText;

    //         };
    //    }

    });
  });
//      $("#sel2").on('change',function() {
//        alert($(this).find("option:selected").text()+' clicked!');
// });
</script> 







</body>
</html>
